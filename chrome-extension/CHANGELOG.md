# 📋 更新日志

## [1.0.1] - 2025-10-21

### 🐛 修复
- **修复文件上传拦截失败问题**
  - 改进 accept 属性检查逻辑，支持更多格式
  - 现在支持 `.jpeg,.jpg,,.png,,.gif` 等扩展名格式
  - 支持 `image/*` MIME 类型
  - 支持空 accept 或 `*/*` 通配符

### ✨ 增强
- **多重拦截机制**
  - 添加全局点击事件监听（捕获阶段）
  - 为每个 file input 直接添加点击监听器
  - 检测点击元素的子元素和父元素中的 file input
  - 添加 focus 事件监听
  - 添加 change 事件监听作为后备检查

- **动态元素支持**
  - 使用 MutationObserver 监听 DOM 变化
  - 自动检测动态添加的 file input 元素
  - 支持 Vue/React 等框架的动态渲染

- **调试功能**
  - 添加详细的 Console 日志
  - 输出检测到的 input 元素信息
  - 显示事件触发情况

### 📝 文档
- 添加 DEBUG.md 调试指南
- 添加 CHANGELOG.md 更新日志
- 更新 README.md 兼容性说明

### 🔧 技术改进
- 避免重复添加事件监听器
- 使用 dataset 标记已处理的元素
- 优化事件处理性能

---

## [1.0.0] - 2025-10-21

### 🎉 首次发布

#### ✨ 核心功能
- 智能拦截网页文件上传操作
- 提供扫码上传和本地上传两种方式
- 在 iframe 中加载 PC 端页面显示二维码
- 自动将上传的图片填充到表单

#### 🎨 用户界面
- 美观的选择对话框
- 流畅的动画效果
- 响应式设计
- 简洁的弹窗页面
- 完善的设置页面

#### ⚙️ 配置功能
- 支持自定义服务器 URL
- 配置保存到 Chrome 云端
- 一键恢复默认设置
- 连接测试功能

#### 📚 文档
- 详细的 README.md
- 快速开始指南 QUICKSTART.md
- 安装指南 INSTALLATION.md
- 功能验证清单

#### 🛠️ 开发工具
- demo.html 测试页面
- 完整的图标资源
- 清晰的代码注释

---

## 版本说明

### 版本号格式
遵循语义化版本 (Semantic Versioning):
- **主版本号**: 不兼容的 API 修改
- **次版本号**: 向下兼容的功能性新增
- **修订号**: 向下兼容的问题修正

### 更新频率
- 🐛 Bug 修复: 随时发布
- ✨ 新功能: 每 1-2 周
- 📝 文档更新: 随代码发布

---

## 计划中的功能

### v1.1.0 (计划中)
- [ ] 支持多文件上传
- [ ] 显示上传进度
- [ ] 添加音效提示
- [ ] 支持快捷键

### v1.2.0 (计划中)
- [ ] 支持视频文件上传
- [ ] 添加上传历史记录
- [ ] 云端配置同步
- [ ] 批量上传管理

### v2.0.0 (长期规划)
- [ ] Firefox 版本
- [ ] Edge 原生版本
- [ ] 企业版功能
- [ ] API 接口开放

---

## 反馈和贡献

欢迎提交 Issue 和 Pull Request！

### 报告问题
如果发现 Bug，请提供：
- 问题描述
- 重现步骤
- 浏览器版本
- 插件版本
- 相关日志

### 建议功能
如果有功能建议，请说明：
- 使用场景
- 预期效果
- 优先级

---

**最后更新**: 2025-10-21  
**当前版本**: 1.0.1

